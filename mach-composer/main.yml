---
mach_composer:
  version: 1
  plugins:
    azure:
      source: mach-composer/azure-minimal
      version: 0.1.2
    commercetools:
      source: mach-composer/commercetools
      version: 0.2.1

global:
  cloud: azure
  environment: qa  # Указываем статический идентификатор окружения
  terraform_config:
    remote_state:
      plugin: azure
      resource_group: "commercetools.pt-bdo-tp-qa-data"
      storage_account: "blobptcomtoqa"
      container_name: "tf-for-mach"
      state_folder: "qa"
    providers:
      azure: 4.1.0
      commercetools: 1.15.1
  azure:
    tenant_id: "0ae51e19-07c8-4e4b-bb6d-648ee58410f4"
    subscription_id: "12528073-4c59-453f-9f28-ab2c75e83118"
    resource_tags:
      Environment: qa
      app: MACH

sites:
- identifier: qa_site
  azure:
    resource_prefix: "mach"
    resource_group: "commercetools.pt-bdo-tp-qa-data"
  commercetools:
    project_key: "dive-into-mach"
    client_id: "q1kNU9NJdrb3AdZY2F6LtMnY"
    client_secret: "iShMrQqSnBVv0eKclIFXmLYfMVcGJYVY"
    scopes: "manage_order_edits:dive-into-mach manage_customers:dive-into-mach"
